# Readme



# install `kyoboLT` package


```r
devtools::install_github("lovetoken/kyoboLT")
```

# Useful functions for time series data

## `Xday_returns()`


```r
index <- matrix(rnorm(60,1000, 8^2), 20, 3)
data <- xts(round(index, 1), as.Date(16001:16020)) # xts package for time series data
names(data) <- paste("Fund", 1:3, sep="_")
data
```

```
##            Fund_1 Fund_2 Fund_3
## 2013-10-23  968.9 1014.6 1098.1
## 2013-10-24  904.0 1064.5  932.0
## 2013-10-25  974.3 1038.7  973.5
## 2013-10-26  962.7  921.9  958.3
## 2013-10-27  888.5 1027.4 1061.0
## 2013-10-28 1074.1 1000.6  961.7
## 2013-10-29 1031.0 1032.9  952.3
## 2013-10-30 1082.1  935.4  888.1
## 2013-10-31  994.4 1096.7  997.0
## 2013-11-01  984.0  948.6 1024.4
## 2013-11-02 1001.6 1065.3 1027.2
## 2013-11-03 1078.2  922.3  997.0
## 2013-11-04  938.5 1064.3  992.1
## 2013-11-05 1027.6 1022.5  946.6
## 2013-11-06  883.0 1095.1  953.5
## 2013-11-07  928.4  943.0 1019.2
## 2013-11-08  994.7  978.3 1003.7
## 2013-11-09  983.0  993.4 1104.5
## 2013-11-10 1013.2  971.2  986.1
## 2013-11-11 1155.8  966.4 1003.6
```

```r
# basic 3 day returns
Xday_returns(data, Xday=3)
```

```
##                  Fund_1      Fund_2        Fund_3
## 2013-10-23           NA          NA            NA
## 2013-10-24           NA          NA            NA
## 2013-10-25           NA          NA            NA
## 2013-10-26 -0.006399009 -0.09136606 -1.273108e-01
## 2013-10-27 -0.017146018 -0.03485204  1.384120e-01
## 2013-10-28  0.102432516 -0.03668047 -1.212121e-02
## 2013-10-29  0.070946297  0.12040351 -6.261087e-03
## 2013-10-30  0.217895329 -0.08954643 -1.629595e-01
## 2013-10-31 -0.074201657  0.09604237  3.670583e-02
## 2013-11-01 -0.045586809 -0.08161487  7.571144e-02
## 2013-11-02 -0.074392385  0.13887107  1.566265e-01
## 2013-11-03  0.084271923 -0.15902252  0.000000e+00
## 2013-11-04 -0.046239837  0.12196922 -3.153065e-02
## 2013-11-05  0.025958466 -0.04017648 -7.846573e-02
## 2013-11-06 -0.181042478  0.18735769 -4.363089e-02
## 2013-11-07 -0.010761854 -0.11397162  2.731579e-02
## 2013-11-08 -0.032016349 -0.04322738  6.032115e-02
## 2013-11-09  0.113250283 -0.09286823  1.583639e-01
## 2013-11-10  0.091339940  0.02990456 -3.247645e-02
## 2013-11-11  0.161958379 -0.01216396 -9.963136e-05
```

```r
# calculation 3 day log returns
Xday_returns(data, Xday=3, log.returns = T)
```

```
##                  Fund_1      Fund_2        Fund_3
## 2013-10-23           NA          NA            NA
## 2013-10-24           NA          NA            NA
## 2013-10-25           NA          NA            NA
## 2013-10-26 -0.006419571 -0.09581297 -1.361758e-01
## 2013-10-27 -0.017294713 -0.03547387  1.296343e-01
## 2013-10-28  0.097519116 -0.03737011 -1.219527e-02
## 2013-10-29  0.068542647  0.11368890 -6.280770e-03
## 2013-10-30  0.197124229 -0.09381237 -1.778828e-01
## 2013-10-31 -0.077098840  0.09170585  3.604822e-02
## 2013-11-01 -0.046658587 -0.08513845  7.298224e-02
## 2013-11-02 -0.077304876  0.13003748  1.455076e-01
## 2013-11-03  0.080908723 -0.17319040  0.000000e+00
## 2013-11-04 -0.047343041  0.11508537 -3.203845e-02
## 2013-11-05  0.025627265 -0.04100584 -8.171532e-02
## 2013-11-06 -0.199723062  0.17173041 -4.461134e-02
## 2013-11-07 -0.010820182 -0.12100630  2.694938e-02
## 2013-11-08 -0.032540081 -0.04418952  5.857183e-02
## 2013-11-09  0.107283920 -0.09746756  1.470086e-01
## 2013-11-10  0.087406244  0.02946614 -3.301552e-02
## 2013-11-11  0.150106840 -0.01223854 -9.963633e-05
```

## `assess_returns()`


```r
returns <- Xday_returns(data, Xday=3, log.returns = T)

assess_returns(returns, "mean")
```

```
##   Rank  Names  Value
## 1    1 Fund_1  1.76%
## 2    2 Fund_3  0.55%
## 3    3 Fund_2 -1.09%
```

```r
assess_returns(returns, "sd")
```

```
##   Rank  Names  Value
## 1    1 Fund_3  9.05%
## 2    2 Fund_1  9.82%
## 3    3 Fund_2 10.17%
```

```r
assess_returns(returns, "S.R")
```

```
##   Rank  Names   Value
## 1    1 Fund_1  17.92%
## 2    2 Fund_3   6.02%
## 3    3 Fund_2 -10.69%
```

## `tmplot()`


```r
library("quantmod")
data <- getSymbols("^ks11", from=Sys.Date()-1000, to=Sys.Date(), auto.assign=F)

tmplot(data)
```

<img src="figure/unnamed-chunk-5-1.png" style="display: block; margin: auto;" />

```r
tm1plot(data, "KS11.Close")
```

<img src="figure/unnamed-chunk-5-2.png" style="display: block; margin: auto;" />

## `mvp()`


```r
mvp(returns)
```

<img src="figure/unnamed-chunk-6-1.png" style="display: block; margin: auto;" />

```
##      Fund_1 Fund_2 Fund_3 Portfolio_Returns  Volatility Sharpe_Ratio
## 2410   0.40   0.33   0.27       0.004923805 0.001497119     3.288854
## 2687   0.49   0.20   0.31       0.008141150 0.001854922     4.388945
##                          Method Point_color
## 2410 Minimum Variance Portfolio        blue
## 2687           Market Portfolio         red
```

# etc functions

## `trim()`


```r
trim("  Wow!  ", method="trailing")
```

```
## [1] "  Wow!"
```

```r
trim("  Wow!  ", method="leading")
```

```
## [1] "Wow!  "
```

```r
"  Wow!  " %>% trim %>% trim(method="leading")
```

```
## [1] "Wow!"
```
