# Readme



# install `kyoboLT` package


```r
devtools::install_github("lovetoken/kyoboLT")
```

# Useful functions for time series data

## `Xday_returns()`


```r
index <- matrix(rnorm(60,1000, 8^2), 20, 3)
data <- xts(round(index, 1), as.Date(16001:16020)) # xts package for time series data
names(data) <- paste("Fund", 1:3, sep="_")
data
```

```
##            Fund_1 Fund_2 Fund_3
## 2013-10-23 1046.3 1019.5 1060.6
## 2013-10-24 1007.0  957.7  911.4
## 2013-10-25 1021.9  911.9  952.4
## 2013-10-26 1046.5 1014.8  926.6
## 2013-10-27  987.9  969.7 1113.2
## 2013-10-28  952.2 1034.5 1052.5
## 2013-10-29  886.6 1123.7  948.4
## 2013-10-30  952.2 1055.7 1024.4
## 2013-10-31  938.4  950.6  969.1
## 2013-11-01  990.2 1008.5  923.3
## 2013-11-02  996.2  971.7  948.6
## 2013-11-03  988.9  911.1  967.4
## 2013-11-04  950.0 1024.5 1021.6
## 2013-11-05  913.8  994.8  985.5
## 2013-11-06  964.8  959.5  976.3
## 2013-11-07 1036.9 1016.1  940.3
## 2013-11-08 1016.4  916.8  934.2
## 2013-11-09  895.3  875.6  913.0
## 2013-11-10 1087.2 1053.2  986.1
## 2013-11-11 1000.4  977.8  967.5
```

```r
# basic 3 day returns
Xday_returns(data, Xday=3)
```

```
##                   Fund_1       Fund_2       Fund_3
## 2013-10-23            NA           NA           NA
## 2013-10-24            NA           NA           NA
## 2013-10-25            NA           NA           NA
## 2013-10-26  0.0001911498 -0.004610103 -0.126343579
## 2013-10-27 -0.0189672294  0.012530020  0.221417599
## 2013-10-28 -0.0682062824  0.134444566  0.105102898
## 2013-10-29 -0.1527950311  0.107311786  0.023526872
## 2013-10-30 -0.0361372609  0.088687223 -0.079770032
## 2013-10-31 -0.0144927536 -0.081101982 -0.079239905
## 2013-11-01  0.1168508910 -0.102518466 -0.026465626
## 2013-11-02  0.0462087797 -0.079568059 -0.073994533
## 2013-11-03  0.0538150043 -0.041552704 -0.001754205
## 2013-11-04 -0.0405978590  0.015865146  0.106465937
## 2013-11-05 -0.0827143144  0.023772769  0.038899431
## 2013-11-06 -0.0243705127  0.053122599  0.009199917
## 2013-11-07  0.0914736842 -0.008199122 -0.079581049
## 2013-11-08  0.1122783979 -0.078407720 -0.052054795
## 2013-11-09 -0.0720356551 -0.087441376 -0.064836628
## 2013-11-10  0.0485099817  0.036512154  0.048707859
## 2013-11-11 -0.0157418339  0.066535777  0.035645472
```

```r
# calculation 3 day log returns
Xday_returns(data, Xday=3, log.returns = T)
```

```
##                   Fund_1       Fund_2       Fund_3
## 2013-10-23            NA           NA           NA
## 2013-10-24            NA           NA           NA
## 2013-10-25            NA           NA           NA
## 2013-10-26  0.0001911315 -0.004620762 -0.135068092
## 2013-10-27 -0.0191494147  0.012452169  0.200012151
## 2013-10-28 -0.0706438219  0.126143162  0.099938451
## 2013-10-29 -0.1658126196  0.101935263  0.023254381
## 2013-10-30 -0.0368063813  0.084972588 -0.083131675
## 2013-10-31 -0.0145987994 -0.084580133 -0.082555760
## 2013-11-01  0.1105130206 -0.108162734 -0.026822145
## 2013-11-02  0.0451729439 -0.082912218 -0.076875141
## 2013-11-03  0.0524169169 -0.042440703 -0.001755745
## 2013-11-04 -0.0414449583  0.015740610  0.101171096
## 2013-11-05 -0.0863363115  0.023494597  0.038161913
## 2013-11-06 -0.0246723883  0.051759655  0.009157856
## 2013-11-07  0.0875287870 -0.008232919 -0.082926331
## 2013-11-08  0.1064105223 -0.081652366 -0.053458579
## 2013-11-09 -0.0747619683 -0.091502950 -0.067034036
## 2013-11-10  0.0473700913  0.035861379  0.047558796
## 2013-11-11 -0.0158670524  0.064415804  0.035024877
```

## `assess_returns()`


```r
returns <- Xday_returns(data, Xday=3, log.returns = T)

assess_returns(returns, "mean")
```

```
##   Rank  Names  Value
## 1    1 Fund_2  0.07%
## 2    2 Fund_3 -0.33%
## 3    3 Fund_1 -0.59%
```

```r
assess_returns(returns, "sd")
```

```
##   Rank  Names Value
## 1    1 Fund_2 7.30%
## 2    2 Fund_1 7.40%
## 3    3 Fund_3 8.60%
```

```r
assess_returns(returns, "S.R")
```

```
##   Rank  Names  Value
## 1    1 Fund_2  1.02%
## 2    2 Fund_3 -3.78%
## 3    3 Fund_1 -7.99%
```

## `tmplot()`


```r
library("quantmod")
data <- getSymbols("^ks11", from=Sys.Date()-1000, to=Sys.Date(), auto.assign=F)

tmplot(data)
```

<img src="figure/unnamed-chunk-5-1.png" style="display: block; margin: auto;" />

```r
tm1plot(data, "KS11.Close")
```

<img src="figure/unnamed-chunk-5-2.png" style="display: block; margin: auto;" />

# etc functions

## `trim()`


```r
trim("  Wow!  ", method="trailing")
```

```
## [1] "  Wow!"
```

```r
trim("  Wow!  ", method="leading")
```

```
## [1] "Wow!  "
```

```r
"  Wow!  " %>% trim %>% trim(method="leading")
```

```
## [1] "Wow!"
```
