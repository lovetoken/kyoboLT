---
title: "kyoboLT package in R"
output:
  rmdformats::material:
    lightbox: F
    thumbnails: F
    fig_height: 5
    fig_width: 6.5
    keep_md: yes
---

```{r echo=F, message=FALSE, warning=FALSE}
## load packages
pacman::p_load("pacman", "dplyr", "knitr", "rmarkdown", "rmdformats", "xts", "reshape2", "formattable", "kyoboLT", "ggplot2")

## ggplot2 theme set
theme_set(theme_bw() + theme(axis.text.x = element_text(angle = 90)))

## option
opts_chunk$set(fig.align = "center", warning = F, message = F)
```

# `kyoboLT` package in R 

<br><img src="./image/under-construction-banner.png" width="20%"><br>

Useful R package for kyobo retirement pension marketing team.  

# install `kyoboLT` package

```{r eval=F}
devtools::install_github("lovetoken/kyoboLT")
```

# Useful functions for time series data

## `xdiff_returns()`

```{r}
data(sample_index)
sample_index

# basic 3 day returns
xdiff_returns(sample_index, 3)
# calculation 3 day log returns
xdiff_returns(sample_index, 3, log.returns = T)
# not omit about start time index
xdiff_returns(sample_index, 3, start.omit = F)
```

## `tmplot()`

Time series and (3 lines) moving average plot about all fund items

```{r}
library("quantmod")
data <- getSymbols("^ks11", from=Sys.Date()-1000, to = Sys.Date(), auto.assign = F)

tmplot(data)
```

## `efff()`

Efficient Frontier using excess earning rate

```{r}
returns <- xdiff_returns(sample_index, 1)
efff(returns, rg = 0.01039, rfr = 0.001)
```

# Useful manipulation

## `mmadjust()`

Adjust min & max about numeric vector

```{r}
(x <- c(NA, 1:100*.01, NA))
mmadjust(x, .2, .8)
```

## `trim()`

Trimming of whitespace in character

```{r}
trim("  Wow!  ", method = "leading")
trim("  Wow!  ", method = "trailing")
"  Wow!  " %>% trim %>% trim(method = "leading")
```
